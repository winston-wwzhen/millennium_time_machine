<!-- 如果当时.exe - 千禧时光机 -->
<view class="desktop">
  <view class="win98-window">
    <view class="win98-title-bar">
      <view class="win98-title-text">如果当时.exe - 时光机</view>
      <view class="win98-title-controls">
        <button class="win98-btn-close" bindtap="goHome">×</button>
      </view>
    </view>

    <view class="win98-window-body">
      <!-- 工具标题区域 -->
      <view class="game-header">
        <view class="game-icon">⏰</view>
        <view class="game-title">
          <text class="title-main">千禧时光机</text>
          <text class="title-sub">Millennium Time Machine</text>
          <text class="title-intro">穿越回2006年，体验那个年代的互联网记忆</text>
          <text class="title-features">AI模拟2006-2026年历史事件 | 探索不同选择下的人生轨迹</text>
          <text class="title-user">欢迎，{{avatarName}}</text>
        </view>
      </view>

      <!-- 年份选择 -->
      <view class="setting-section">
        <view class="setting-label">选择你的出生年份</view>
        <view class="year-selector">
          <view class="year-display">
            <text class="year-value">{{birthYear}}</text>
            <text class="year-unit">年</text>
          </view>
          <view class="year-slider-row">
            <view class="year-btn year-btn-minus {{birthYear <= minYear ? 'disabled' : ''}}" bindtap="decreaseYear">-</view>
            <slider
              class="year-slider"
              min="{{minYear}}"
              max="{{maxYear}}"
              value="{{birthYear}}"
              step="{{yearStep}}"
              bindchange="onYearChange"
              activeColor="#000080"
              backgroundColor="#c0c0c0"
              block-size="20"
              show-value="{{false}}"
            />
            <view class="year-btn year-btn-plus {{birthYear >= maxYear ? 'disabled' : ''}}" bindtap="increaseYear">+</view>
          </view>
          <view class="year-range">
            <text>{{minYear}}</text>
            <text>{{maxYear}}</text>
          </view>
        </view>
        <view class="age-preview">
          <text>2006年时你的年龄：{{2006 - birthYear}}岁</text>
        </view>
      </view>

      <!-- 性别选择 -->
      <view class="setting-section">
        <view class="setting-label">选择性别</view>
        <view class="gender-selector">
          <view
            class="gender-option {{gender === 'male' ? 'selected' : ''}}"
            data-gender="male"
            bindtap="selectGender"
          >
            <text class="gender-icon">♂</text>
            <text class="gender-text">男性</text>
          </view>
          <view
            class="gender-option {{gender === 'female' ? 'selected' : ''}}"
            data-gender="female"
            bindtap="selectGender"
          >
            <text class="gender-icon">♀</text>
            <text class="gender-text">女性</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 按钮区域 -->
    <view class="action-bar">
      <button class="win98-btn-std win98-btn-primary" bindtap="startGame" loading="{{isLoading}}">
        开始体验
      </button>
      <button class="win98-btn-std" bindtap="toggleInstructions">
        使用说明
      </button>
      <button class="win98-btn-std" bindtap="viewHistory">
        📊 我的记录
      </button>
    </view>

    <!-- 状态栏 -->
    <view class="status-bar">
      <text>Ready</text>
    </view>
  </view>
</view>

<!-- 使用说明弹窗 -->
<view class="instructions-overlay {{showInstructions ? 'visible' : ''}}" wx:if="{{showInstructions}}" bindtap="toggleInstructions" catchtap="stopPropagation">
  <view class="instructions-window" catchtap="stopPropagation">
    <view class="win98-title-bar">
      <view class="win98-title-text">使用说明</view>
      <view class="win98-title-controls">
        <button class="win98-btn-close" bindtap="toggleInstructions">×</button>
      </view>
    </view>

    <view class="instructions-body">
      <view class="instructions-section">
        <text class="instructions-heading">⏰ 千禧时光机</text>
        <text class="instructions-text">这是一个AI驱动的怀旧工具，带你重温2006-2026年的互联网记忆和时代变迁。</text>
        <text class="instructions-text">通过AI模拟历史事件，探索不同选择下的人生轨迹。</text>
      </view>

      <view class="instructions-section">
        <text class="instructions-heading">📖 如何使用</text>
        <text class="instructions-text">1. 选择你的出生年份和性别</text>
        <text class="instructions-text">2. 从2006年开始，体验20年时代变迁</text>
        <text class="instructions-text">3. 遇到历史事件时，做出你的选择</text>
        <text class="instructions-text">4. 查看不同选择带来的人生轨迹</text>
        <text class="instructions-text">5. 收集记录，分享你的怀旧体验</text>
      </view>

      <view class="instructions-section">
        <text class="instructions-heading">🎯 功能特点</text>
        <text class="instructions-text">• AI模拟2006-2026年真实历史事件</text>
        <text class="instructions-text">• 探索多种不同的人生轨迹</text>
        <text class="instructions-text">• 免费体验，无需付费</text>
        <text class="instructions-text">• 纯净怀旧，无广告干扰</text>
      </view>

      <view class="instructions-section">
        <text class="instructions-heading">💡 温馨提示</text>
        <text class="instructions-text">• 这是一个怀旧工具，用于重温时代记忆</text>
        <text class="instructions-text">• 不同年份会有不同的历史事件</text>
        <text class="instructions-text">• 点击时光轴可以跳过打字动画</text>
        <text class="instructions-text">• 所有记录保存在本地，可随时查看</text>
      </view>

      <view class="instructions-actions">
        <button class="win98-btn-std win98-btn-primary" bindtap="toggleInstructions">
          知道了
        </button>
      </view>
    </view>
  </view>
</view>
