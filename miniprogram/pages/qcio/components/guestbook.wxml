<!-- ç•™è¨€æ¿ç»„ä»¶ -->
<view class="guestbook-container">
  <view class="section-title">
    ğŸ“ ç•™è¨€æ¿
    <text class="refresh-hint" bindtap="refreshMessages">[åˆ·æ–°]</text>
  </view>

  <!-- ç•™è¨€åˆ—è¡¨ -->
  <view class="guestbook-list">
    <view class="guestbook-item {{item.isSystem ? 'system-message' : ''}}" wx:for="{{messages}}" wx:key="id">
      <view class="guestbook-avatar">{{item.avatar}}</view>
      <view class="guestbook-content">
        <view class="guestbook-header">
          <text class="guestbook-name">{{item.nickname}}</text>
          <view class="guestbook-right">
            <text class="guestbook-time">{{item.time}}</text>
            <view
              class="delete-btn {{item.isSystem ? 'disabled' : ''}}"
              wx:if="{{!item.isSystem}}"
              bindtap="deleteMessage"
              data-id="{{item.id}}"
              data-is-system="{{item.isSystem}}"
            >
              ğŸ—‘ï¸
            </view>
          </view>
        </view>
        <view class="guestbook-text">{{item.content}}</view>
      </view>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- åº•éƒ¨æç¤º -->
  <view class="guestbook-footer">
    <text class="footer-text">âœ¨ è¸©ä¸€è¸©å¥½å‹ç©ºé—´ï¼Œä»–ä»¬ä¼šè‡ªåŠ¨ç»™ä½ ç•™è¨€ âœ¨</text>
  </view>
</view>
