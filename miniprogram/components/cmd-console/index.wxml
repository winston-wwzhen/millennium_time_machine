<!-- CMD å‘½ä»¤æç¤ºç¬¦çª—å£ -->
<view class="cmd-console-overlay" wx:if="{{show}}" style="{{overlayStyle}}" catchtap="close">
  <view class="cmd-console-window" catchtap="stopPropagation">
    <!-- æ§åˆ¶å°æ ‡é¢˜æ  -->
    <view class="cmd-title-bar">
      <view class="cmd-title-icon">ğŸ’»</view>
      <view class="win98-title-text">{{cmdCurrentDir}}\\cmd.exe</view>
      <view class="win98-title-controls">
        <button class="win98-btn-close" bindtap="close">Ã—</button>
      </view>
    </view>

    <!-- æ§åˆ¶å°èœå•æ  -->
    <view class="cmd-menu-bar">
      <text class="cmd-menu-item">æ–‡ä»¶</text>
      <text class="cmd-menu-item">ç¼–è¾‘</text>
      <text class="cmd-menu-item">æŸ¥çœ‹</text>
    </view>

    <!-- æ§åˆ¶å°å†…å®¹åŒºåŸŸ -->
    <scroll-view class="cmd-content" scroll-y scroll-into-view="{{scrollIntoView}}" scroll-top="{{cmdScrollTop}}">
      <view class="cmd-output">
        <block wx:for="{{cmdOutput}}" wx:key="index">
          <text class="cmd-line cmd-line-{{item.type}}">{{item.text}}</text>
        </block>
      </view>
    </scroll-view>

    <!-- è¾“å…¥åŒºåŸŸ -->
    <view class="cmd-input-area">
      <text class="cmd-prompt">{{cmdPrompt}}</text>
      <input
        class="cmd-input"
        type="text"
        value="{{cmdInput}}"
        bindinput="onCmdInput"
        bindconfirm="onCmdExecute"
        bindkeydown="onCmdKeyDown"
        placeholder="{{show ? '' : 'è¾“å…¥å‘½ä»¤...'}}"
        focus="{{show}}"
        confirm-type="done"
      />
    </view>

    <!-- æ»šåŠ¨æ¡è¯´æ˜ -->
    <view class="cmd-scrollbar-hint" wx:if="{{cmdHistory.length > 0}}">
      <text>â†‘â†“ æµè§ˆå†å² | Enter æ‰§è¡Œ | Exit é€€å‡º</text>
    </view>
  </view>
</view>
