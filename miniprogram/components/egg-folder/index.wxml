<!-- å½©è›‹æ–‡ä»¶å¤¹ç»„ä»¶ -->
<view class="egg-folder-overlay {{show ? 'show' : 'hide'}}" catchtap="onClose">
  <view class="win98-window" catchtap="stopPropagation" catchlongpress="stopPropagation" catchtouchmove="stopPropagation">
    <view class="win98-title-bar">
      <view class="win98-title-text">å½©è›‹</view>
      <view class="win98-title-controls">
        <button class="win98-btn-close" bindtap="onClose">Ã—</button>
      </view>
    </view>

    <view class="win98-window-body">
      <!-- å·¥å…·æ  -->
      <view class="toolbar">
        <view class="toolbar-item">æ–‡ä»¶(F)</view>
        <view class="toolbar-item">ç¼–è¾‘(E)</view>
        <view class="toolbar-item {{showViewMenu ? 'active' : ''}}" bindtap="onViewMenuTap">æŸ¥çœ‹(V)</view>
        <view class="toolbar-item">å¸®åŠ©(H)</view>
      </view>

      <!-- æŸ¥çœ‹ä¸‹æ‹‰èœå• -->
      <view class="dropdown-menu {{showViewMenu ? 'show' : ''}}" catchtap="stopPropagation">
        <view class="dropdown-item" bindtap="onShowHiddenFiles">
          <text class="dropdown-text">æ˜¾ç¤ºéšè—æ–‡ä»¶</text>
        </view>
      </view>

      <view class="toolbar-divider"></view>

      <!-- æ–‡ä»¶åˆ—è¡¨ -->
      <view class="files-grid">
        <view class="file-item" bindtap="onFileTap">
          <view class="file-icon">ğŸ“„</view>
          <text class="file-label">å½©è›‹å¤§å…¨.txt</text>
        </view>

        <!-- éšè—çš„å½©è›‹ç§˜ç±æ–‡ä»¶ -->
        <view wx:if="{{showHiddenFiles}}" class="file-item hidden-file" bindtap="onSecretFileTap">
          <view class="file-icon">ğŸ“œ</view>
          <text class="file-label">å½©è›‹ç§˜ç±-ç¬¬ä¸€å†Œ.txt</text>
        </view>

        <!-- å½©è›‹ç§˜ç±ç¬¬äºŒå†Œï¼ˆè¿˜åŸåæ˜¾ç¤ºï¼‰ -->
        <view wx:if="{{secretBook2Restored}}" class="file-item secret-file-2" bindtap="onSecretFile2Tap">
          <view class="file-icon">ğŸ“œ</view>
          <text class="file-label">å½©è›‹ç§˜ç±-ç¬¬äºŒå†Œ.txt</text>
        </view>

        <!-- å½©è›‹ç§˜ç±ç¬¬ä¸‰å†Œï¼ˆæ‰“å¼€Cç›˜å½©è›‹åŠ©æ‰‹åæ˜¾ç¤ºï¼‰ -->
        <view wx:if="{{hasOpenedEggHelper}}" class="file-item secret-file-3" bindtap="onSecretFile3Tap">
          <view class="file-icon">ğŸ“œ</view>
          <text class="file-label">å½©è›‹ç§˜ç±-ç¬¬ä¸‰å†Œ.txt</text>
        </view>
      </view>
    </view>

    <!-- çŠ¶æ€æ  -->
    <view class="status-bar">
      <text>
        {{showHiddenFiles ? (secretBook2Restored ? (hasOpenedEggHelper ? '4' : '3') : (hasOpenedEggHelper ? '3' : '2')) : (secretBook2Restored ? (hasOpenedEggHelper ? '3' : '2') : (hasOpenedEggHelper ? '2' : '1'))}} ä¸ªå¯¹è±¡
      </text>
    </view>
  </view>

  <!-- æ–‡æœ¬æ–‡ä»¶æŸ¥çœ‹å™¨ -->
  <text-file-viewer show="{{showTextViewer}}" fileName="å½©è›‹å¤§å…¨.txt" bindclose="onCloseTextViewer"></text-file-viewer>

  <!-- å½©è›‹ç§˜ç±æŸ¥çœ‹å™¨ -->
  <text-file-viewer show="{{showSecretViewer}}" fileName="å½©è›‹ç§˜ç±-ç¬¬ä¸€å†Œ.txt" bindclose="onCloseSecretViewer"></text-file-viewer>

  <!-- å½©è›‹ç§˜ç±ç¬¬äºŒå†ŒæŸ¥çœ‹å™¨ -->
  <text-file-viewer show="{{showSecretViewer2}}" fileName="å½©è›‹ç§˜ç±-ç¬¬äºŒå†Œ.txt" bindclose="onCloseSecretViewer2"></text-file-viewer>

  <!-- å½©è›‹ç§˜ç±ç¬¬ä¸‰å†ŒæŸ¥çœ‹å™¨ -->
  <text-file-viewer show="{{showSecretViewer3}}" fileName="å½©è›‹ç§˜ç±-ç¬¬ä¸‰å†Œ.txt" bindclose="onCloseSecretViewer3"></text-file-viewer>
</view>
