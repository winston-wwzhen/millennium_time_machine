<!-- æˆ‘çš„ç”µè„‘ - Win98 é£æ ¼çª—å£ç»„ä»¶ -->
<view class="my-computer-overlay {{show ? 'show' : 'hide'}}" style="{{overlayStyle}}" catchtap="onClose">
  <view class="win98-window" catchtap="stopPropagation">
    <view class="win98-title-bar">
      <view class="win98-title-text">æˆ‘çš„ç”µè„‘</view>
      <view class="win98-title-controls">
        <button class="win98-btn-close" bindtap="onClose">Ã—</button>
      </view>
    </view>

    <!-- èœå•æ  -->
    <view class="menu-bar">
      <view class="menu-dropdown-wrapper">
        <view class="menu-dropdown-trigger" catchtap="onFileMenuTap">
          <text class="menu-item">æ–‡ä»¶</text>
        </view>
        <!-- æ–‡ä»¶èœå•ä¸‹æ‹‰ -->
        <view class="menu-dropdown-content" wx:if="{{showFileMenu}}" catchtap="onFileMenuTap">
          <view class="menu-dropdown-item" catchtap="onShowSystemProperties">
            <text class="menu-item-icon">ğŸ–¥ï¸</text>
            <text>ç³»ç»Ÿå±æ€§</text>
          </view>
          <view class="menu-dropdown-item" catchtap="onShowDiskCleanup">
            <text class="menu-item-icon">ğŸ’¿</text>
            <text>ç£ç›˜æ¸…ç†</text>
          </view>
          <view class="menu-dropdown-item" catchtap="onShowDeviceManager">
            <text class="menu-item-icon">ğŸ”§</text>
            <text>è®¾å¤‡ç®¡ç†å™¨</text>
          </view>
        </view>
      </view>
      <text class="menu-item">ç¼–è¾‘(E)</text>
      <text class="menu-item">æŸ¥çœ‹(V)</text>
      <text class="menu-item" bindtap="onShowHelp">å¸®åŠ©(H)</text>
    </view>

    <view class="win98-window-body" bindtap="onWindowBodyTap">
      <!-- é©±åŠ¨å™¨åˆ—è¡¨ -->
      <view class="drives-grid">
        <!-- Cç›˜ - ç‹¬å ç¬¬ä¸€è¡Œ -->
        <view class="drive-item drive-c">
          <view class="drive-icon" bindtap="onDriveTap" data-drive="C">ğŸ’¾</view>
          <view class="drive-info">
            <text class="drive-label">(C:)</text>
            <text class="drive-size">æœ¬åœ°ç£ç›˜</text>
            <view class="capacity-bar">
              <view class="capacity-used" style="width: {{diskUsagePercent}}%"></view>
            </view>
            <text class="capacity-text">{{diskUsageText}}</text>
          </view>
        </view>

        <!-- åˆ†å‰²çº¿ -->
        <view class="drive-divider"></view>

        <!-- ç¬¬äºŒè¡Œé©±åŠ¨å™¨å®¹å™¨ -->
        <view class="drives-row-secondary">
          <view class="drive-item">
            <view class="drive-icon" bindtap="onDriveTap" data-drive="D">ğŸ’¿</view>
            <text class="drive-label">(D:)</text>
            <text class="drive-size">æœ¬åœ°ç£ç›˜</text>
          </view>
          <view class="drive-item">
            <view class="drive-icon" bindtap="onDriveTap" data-drive="USB">ğŸ“±</view>
            <text class="drive-label">å¯ç§»åŠ¨</text>
            <text class="drive-size">USBè®¾å¤‡</text>
          </view>
        </view>
      </view>

      <!-- ç³»ç»Ÿä¿¡æ¯åŒºåŸŸ -->
      <view class="system-info-panel">
        <view class="system-info-row">
          <text class="system-info-label">å¤„ç†å™¨ï¼š</text>
          <text class="system-info-value">Intel Pentium III 800MHz</text>
        </view>
        <view class="system-info-row">
          <text class="system-info-label">å†…å­˜ï¼š</text>
          <text class="system-info-value">128 MB RAM</text>
        </view>
        <view class="system-info-row">
          <text class="system-info-label">ç³»ç»Ÿï¼š</text>
          <text class="system-info-value">Microsoft Windows 98 ç¬¬äºŒç‰ˆ</text>
        </view>
        <view class="system-info-row" wx:if="{{userInfo}}">
          <text class="system-info-label">ç”¨æˆ·ï¼š</text>
          <text class="system-info-value">{{userInfo.avatarName}}</text>
        </view>
      </view>
    </view>

    <!-- çŠ¶æ€æ  -->
    <view class="status-bar">
      <text>3 ä¸ªå¯¹è±¡</text>
    </view>
  </view>

  <!-- é©±åŠ¨å™¨å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDriveDialog}}" catchtap="closeDriveDialog">
    <view class="win98-window drive-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">{{driveDialogData.title}}</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="closeDriveDialog">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="drive-dialog-content">
          <view class="drive-dialog-icon">{{driveDialogData.icon}}</view>
          <text class="drive-dialog-message">{{driveDialogData.message}}</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="closeDriveDialog">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- å¸®åŠ©å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showHelpDialog}}" catchtap="onCloseHelpDialog">
    <view class="win98-window help-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ’¡ æˆ‘çš„ç”µè„‘ - å¸®åŠ©</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseHelpDialog">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <scroll-view class="help-content" scroll-y>
          <text class="help-title">æˆ‘çš„ç”µè„‘</text>
          <text class="help-text">æµè§ˆè™šæ‹Ÿé©±åŠ¨å™¨å’Œç³»ç»Ÿä¿¡æ¯ã€‚</text>

          <view class="help-section">
            <text class="help-section-title">ğŸ’¾ é©±åŠ¨å™¨è¯´æ˜</text>
            <view class="help-features">
              <text class="help-feature">â€¢ ç‚¹å‡»é©±åŠ¨å™¨æ‰“å¼€æ–‡ä»¶æµè§ˆå™¨</text>
              <text class="help-feature">â€¢ Cç›˜ï¼šç³»ç»Ÿæ–‡ä»¶å¤¹å’Œç¨‹åº</text>
              <text class="help-feature">â€¢ Dç›˜ï¼šä¸‹è½½ã€è½¯ä»¶ã€æ¸¸æˆã€èµ„æ–™</text>
              <text class="help-feature">â€¢ USBï¼šå¯ç§»åŠ¨å­˜å‚¨è®¾å¤‡</text>
            </view>
          </view>

          <view class="help-section">
            <text class="help-section-title">âš™ï¸ ç³»ç»ŸåŠŸèƒ½</text>
            <view class="help-features">
              <text class="help-feature">â€¢ ç³»ç»Ÿå±æ€§ï¼šæŸ¥çœ‹ç¡¬ä»¶å’Œè´¦å·ä¿¡æ¯</text>
              <text class="help-feature">â€¢ ç£ç›˜æ¸…ç†ï¼šæ¯æ—¥æ¸…ç†è·å¾—æ—¶å…‰å¸</text>
              <text class="help-feature">â€¢ è®¾å¤‡ç®¡ç†å™¨ï¼šæŸ¥çœ‹è™šæ‹Ÿç¡¬ä»¶è®¾å¤‡</text>
            </view>
          </view>

          <view class="help-section">
            <text class="help-section-title">ğŸ® å½©è›‹æç¤º</text>
            <view class="help-features">
              <text class="help-feature">â€¢ æ–‡ä»¶å¤¹ä¸­è—æœ‰ç§˜å¯†å½©è›‹æ–‡ä»¶</text>
              <text class="help-feature">â€¢ æ¢ç´¢æ‰€æœ‰æ–‡ä»¶å¤¹å‘ç°å½©è›‹</text>
              <text class="help-feature">â€¢ åœ¨è®¾å¤‡ç®¡ç†å™¨æŸ¥çœ‹æ‰€æœ‰è®¾å¤‡</text>
            </view>
          </view>
        </scroll-view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="onCloseHelpDialog">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- ç³»ç»Ÿå±æ€§å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showSystemProperties}}" catchtap="onCloseSystemProperties">
    <view class="win98-window system-properties-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ–¥ï¸ ç³»ç»Ÿå±æ€§</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseSystemProperties">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <scroll-view class="system-properties-content" scroll-y>
          <!-- ç³»ç»Ÿä¿¡æ¯åŒºåŸŸ -->
          <view class="sp-section">
            <view class="sp-header">Microsoft Windows 98 ç¬¬äºŒç‰ˆ</view>
            <view class="sp-info">
              <text class="sp-label">æ³¨å†Œç»™ï¼š</text>
              <text class="sp-value">åƒç¦§ç½‘å‹</text>
            </view>
            <view class="sp-info">
              <text class="sp-label">è®¡ç®—æœºï¼š</text>
              <text class="sp-value">Pentium(R) III CPU 800 MHz / 128 MB RAM</text>
            </view>
          </view>

          <!-- ç¡¬ä»¶ä¿¡æ¯ -->
          <view class="sp-section">
            <view class="sp-section-title">ğŸ’» ç¡¬ä»¶ä¿¡æ¯</view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">å¤„ç†å™¨ï¼š</text>
              <text class="sp-info-value">{{systemInfo.cpu}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">å†…å­˜ï¼š</text>
              <text class="sp-info-value">{{systemInfo.memory}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">ç¡¬ç›˜ï¼š</text>
              <text class="sp-info-value">{{systemInfo.hardDrive}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">æ˜¾å¡ï¼š</text>
              <text class="sp-info-value">{{systemInfo.graphics}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">å£°å¡ï¼š</text>
              <text class="sp-info-value">{{systemInfo.sound}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{systemInfo}}">
              <text class="sp-info-label">ç½‘å¡ï¼š</text>
              <text class="sp-info-value">{{systemInfo.network}}</text>
            </view>
          </view>

          <!-- åƒç¦§æ—¶å…‰æœºè´¦å·ä¿¡æ¯ -->
          <view class="sp-section">
            <view class="sp-section-title">ğŸ® åƒç¦§æ—¶å…‰æœºè´¦å·ä¿¡æ¯</view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">QCIO è´¦å·ï¼š</text>
              <text class="sp-info-value">{{userInfo.qcioAccount || 'æœªæ³¨å†Œ'}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">ç­‰çº§ï¼š</text>
              <text class="sp-info-value">LV.{{userInfo.level}} {{userInfo.starsDisplay || ''}}</text>
            </view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">Qç‚¹ï¼š</text>
              <text class="sp-info-value">{{userInfo.qpoints}} Qç‚¹</text>
            </view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">ç½‘è´¹ï¼š</text>
              <text class="sp-info-value">{{userInfo.netFeeDays}} å¤©</text>
            </view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">æ—¶å…‰å¸ï¼š</text>
              <text class="sp-info-value">{{userInfo.coins}} ğŸ’</text>
            </view>
            <view class="sp-info-row" wx:if="{{userInfo}}">
              <text class="sp-info-label">å½©è›‹å‘ç°ï¼š</text>
              <text class="sp-info-value">{{userInfo.eggProgress}}</text>
            </view>
          </view>
        </scroll-view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="onCloseSystemProperties">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- ç£ç›˜æ¸…ç†ç¡®è®¤å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDiskCleanupConfirm}}" catchtap="closeDiskCleanupDialogs">
    <view class="win98-window disk-cleanup-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ’¿ ç£ç›˜æ¸…ç†</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="closeDiskCleanupDialogs">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="disk-cleanup-content">
          <view class="disk-cleanup-icon">ğŸ’¿</view>
          <text class="disk-cleanup-message">å³å°†æ‰«æç£ç›˜ï¼Œæ¸…ç†ä¸´æ—¶æ–‡ä»¶é‡Šæ”¾ç©ºé—´...</text>
          <text class="disk-cleanup-today">ä»Šå¤©å·²æ¸…ç†ï¼š{{diskCleanupTodayCount}}/1 æ¬¡</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="closeDiskCleanupDialogs">å–æ¶ˆ</button>
          <button class="win98-btn-std" bindtap="onStartDiskCleanup">å¼€å§‹æ‰«æ</button>
        </view>
      </view>
    </view>
  </view>

  <!-- ç£ç›˜æ¸…ç†æ‰«æå¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDiskCleanupScanning}}" catchtap="closeDiskCleanupDialogs">
    <view class="win98-window disk-cleanup-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">æ­£åœ¨æ‰«æç£ç›˜...</view>
      </view>
      <view class="win98-window-body">
        <view class="disk-cleanup-content">
          <text class="disk-cleanup-status">æ­£åœ¨æ‰«æ {{fileExplorerCurrentDrive || 'C'}}ç›˜...</text>
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{diskCleanupProgress}}%"></view>
          </view>
          <text class="disk-cleanup-progress-text">{{diskCleanupProgress}}%</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç£ç›˜æ¸…ç†ç»“æœå¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDiskCleanupResult}}" catchtap="closeDiskCleanupDialogs">
    <view class="win98-window disk-cleanup-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">{{diskCleanupResult && diskCleanupResult.success ? 'ç£ç›˜æ¸…ç†å®Œæˆ' : 'ç£ç›˜æ¸…ç†'}}</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="closeDiskCleanupDialogs">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="disk-cleanup-content" wx:if="{{diskCleanupResult && diskCleanupResult.success}}">
          <!-- æœ‰å¥–åŠ±ï¼šæ˜¾ç¤ºè¯¦ç»†æ¸…ç†å†…å®¹ -->
          <view wx:if="{{diskCleanupResult.hasReward}}">
            <text class="disk-cleanup-result-title">æ¸…ç†å†…å®¹ï¼š</text>
            <view class="cleanup-item">
              <text class="cleanup-icon">ğŸ’¾</text>
              <text class="cleanup-name">ä¸´æ—¶æ–‡ä»¶</text>
              <text class="cleanup-size">{{diskCleanupResult.tempFiles}}MB</text>
            </view>
            <view class="cleanup-item">
              <text class="cleanup-icon">ğŸ—‘ï¸</text>
              <text class="cleanup-name">ç¼“å­˜æ–‡ä»¶</text>
              <text class="cleanup-size">{{diskCleanupResult.cacheFiles}}MB</text>
            </view>
            <view class="cleanup-item">
              <text class="cleanup-icon">ğŸ“„</text>
              <text class="cleanup-name">æ—§æ—¥å¿—</text>
              <text class="cleanup-size">{{diskCleanupResult.oldLogs}}MB</text>
            </view>
            <view class="cleanup-divider"></view>
            <view class="cleanup-total">
              <text class="cleanup-total-label">æ€»è®¡ï¼š</text>
              <text class="cleanup-total-size">{{diskCleanupResult.tempFiles + diskCleanupResult.cacheFiles + diskCleanupResult.oldLogs}}MB</text>
            </view>
            <view class="cleanup-reward" wx:if="{{diskCleanupResult.diskUsageBefore !== undefined}}">
              <text class="cleanup-reward-text">ç£ç›˜å®¹é‡ï¼š</text>
              <text class="cleanup-reward-amount">{{diskCleanupResult.diskUsageBefore}}% â†’ {{diskCleanupResult.diskUsageAfter}}%</text>
            </view>
            <view class="cleanup-reward">
              <text class="cleanup-reward-text">è·å¾—å¥–åŠ±ï¼š</text>
              <text class="cleanup-reward-amount">ğŸ’ +{{diskCleanupResult.tempFiles + diskCleanupResult.cacheFiles + diskCleanupResult.oldLogs}} æ—¶å…‰å¸</text>
            </view>
          </view>
          <!-- æ— å¥–åŠ±ï¼šæ˜¾ç¤ºæç¤ºä¿¡æ¯ -->
          <view wx:else class="disk-cleanup-no-reward">
            <text class="disk-cleanup-icon">âœ…</text>
            <text class="disk-cleanup-message">{{diskCleanupResult.message || 'ç£ç›˜æ¸…ç†å®Œæˆ'}}</text>
            <text class="disk-cleanup-hint">æ¯å¤©åªæœ‰ç¬¬ä¸€æ¬¡æ¸…ç†è·å¾—å¥–åŠ±</text>
          </view>
        </view>
        <view class="disk-cleanup-content" wx:else>
          <text class="disk-cleanup-error">{{diskCleanupResult ? diskCleanupResult.message : 'æ¸…ç†å¤±è´¥'}}</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="closeDiskCleanupDialogs">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- è®¾å¤‡ç®¡ç†å™¨å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDeviceManager}}" catchtap="onCloseDeviceManager">
    <view class="win98-window device-manager-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ”§ è®¾å¤‡ç®¡ç†å™¨</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseDeviceManager">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <scroll-view class="device-manager-content" scroll-y>
          <view class="sp-section">
            <view class="sp-header">ğŸ’» åƒç¦§æ—¶å…‰æœºç”µè„‘</view>
            <view class="device-list">
              <view class="device-item" wx:for="{{devices}}" wx:key="id" bindtap="onShowDeviceDetail" data-device-id="{{item.id}}">
                <text class="device-icon">{{item.icon}}</text>
                <text class="device-name">{{item.name}}</text>
              </view>
            </view>
          </view>
        </scroll-view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="onCloseDeviceManager">å…³é—­</button>
        </view>
      </view>
    </view>
  </view>

  <!-- è®¾å¤‡è¯¦æƒ…å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showDeviceDetail}}" catchtap="onCloseDeviceDetail">
    <view class="win98-window device-detail-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">{{selectedDevice.name}} å±æ€§</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseDeviceDetail">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="device-detail-content">
          <!-- è®¾å¤‡å›¾æ ‡å’ŒçŠ¶æ€ -->
          <view class="device-detail-header">
            <text class="device-detail-icon">{{selectedDevice.icon}}</text>
            <text class="device-detail-status">âœ… è¿è¡Œæ­£å¸¸</text>
          </view>

          <!-- è®¾å¤‡ä¿¡æ¯åŒºåŸŸ -->
          <view class="sp-section">
            <view class="sp-section-title">è®¾å¤‡ä¿¡æ¯</view>
            <view class="sp-info-row">
              <text class="sp-info-label">è®¾å¤‡åç§°ï¼š</text>
              <text class="sp-info-value">{{selectedDevice.name}}</text>
            </view>
            <view class="sp-info-row">
              <text class="sp-info-label">è®¾å¤‡ç±»å‹ï¼š</text>
              <text class="sp-info-value">{{selectedDevice.typeText}}</text>
            </view>
            <view class="sp-info-row">
              <text class="sp-info-label">çŠ¶æ€ï¼š</text>
              <text class="sp-info-value" style="color: #00aa00;">è¿è¡Œæ­£å¸¸</text>
            </view>
          </view>

          <!-- æè¿°å’Œå¤‡æ³¨ -->
          <view class="sp-section">
            <view class="sp-section-title">è¯¦ç»†ä¿¡æ¯</view>
            <view class="sp-info-row">
              <text class="sp-info-label">æè¿°ï¼š</text>
              <text class="sp-info-value">{{selectedDevice.description}}</text>
            </view>
          </view>

          <!-- å¤‡æ³¨åŒºåŸŸ -->
          <view class="sp-section" style="background: #ffffcc;">
            <view class="sp-section-title">ğŸ’¬ å¤‡æ³¨</view>
            <text class="device-detail-remark-text">"{{selectedDevice.remark}}"</text>
          </view>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="onCloseDeviceDetail">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- æ–‡ä»¶æµè§ˆå™¨å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showFileExplorer}}" catchtap="onCloseFileExplorer">
    <view class="win98-window file-explorer-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">{{fileExplorerPath}}</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseFileExplorer">Ã—</button>
        </view>
      </view>

      <!-- èœå•æ  -->
      <view class="menu-bar" catchtap="closeAllFileExplorerMenus">
        <!-- æ–‡ä»¶(F) -->
        <view class="menu-dropdown-wrapper">
          <view class="menu-dropdown-trigger" catchtap="toggleFileExplorerMenu" data-menu="File">
            <text class="menu-item menu-small">æ–‡ä»¶</text>
          </view>
          <view class="menu-dropdown-content" wx:if="{{feShowFileMenu}}" catchtap="closeAllFileExplorerMenus">
            <view class="menu-dropdown-item" catchtap="onFeNewFolder">
              <text class="menu-item-icon">ğŸ“</text>
              <text>æ–°å»ºæ–‡ä»¶å¤¹</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeRename">
              <text class="menu-item-icon">âœï¸</text>
              <text>é‡å‘½å</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeDelete">
              <text class="menu-item-icon">ğŸ—‘ï¸</text>
              <text>åˆ é™¤</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeProperties">
              <text class="menu-item-icon">â„¹ï¸</text>
              <text>å±æ€§</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeClose">
              <text class="menu-item-icon">âœ–ï¸</text>
              <text>å…³é—­</text>
            </view>
          </view>
        </view>

        <!-- ç¼–è¾‘(E) -->
        <view class="menu-dropdown-wrapper">
          <view class="menu-dropdown-trigger" catchtap="toggleFileExplorerMenu" data-menu="Edit">
            <text class="menu-item menu-small">ç¼–è¾‘</text>
          </view>
          <view class="menu-dropdown-content" wx:if="{{feShowEditMenu}}" catchtap="closeAllFileExplorerMenus">
            <view class="menu-dropdown-item" catchtap="onFeUndo">
              <text class="menu-item-icon">â†©ï¸</text>
              <text>æ’¤é”€</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeSelectAll">
              <text class="menu-item-icon">â˜‘ï¸</text>
              <text>å…¨é€‰</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeInvertSelection">
              <text class="menu-item-icon">ğŸ”„</text>
              <text>åå‘é€‰æ‹©</text>
            </view>
          </view>
        </view>

        <!-- æŸ¥çœ‹(V) -->
        <view class="menu-dropdown-wrapper">
          <view class="menu-dropdown-trigger" catchtap="toggleFileExplorerMenu" data-menu="View">
            <text class="menu-item menu-small">æŸ¥çœ‹</text>
          </view>
          <view class="menu-dropdown-content" wx:if="{{feShowViewMenu}}" catchtap="closeAllFileExplorerMenus">
            <view class="menu-dropdown-item" catchtap="onFeShowHiddenFiles">
              <text class="menu-item-icon">ğŸ‘ï¸</text>
              <text>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeRefresh">
              <text class="menu-item-icon">ğŸ”„</text>
              <text>åˆ·æ–°</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeViewMode">
              <text class="menu-item-icon">ğŸ“‹</text>
              <text>å¤§å›¾æ ‡</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeViewMode">
              <text class="menu-item-icon">ğŸ“‹</text>
              <text>å°å›¾æ ‡</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeViewMode">
              <text class="menu-item-icon">ğŸ“‹</text>
              <text>åˆ—è¡¨</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeViewMode">
              <text class="menu-item-icon">ğŸ“‹</text>
              <text>è¯¦ç»†ä¿¡æ¯</text>
            </view>
          </view>
        </view>

        <!-- æ”¶è—(A) -->
        <view class="menu-dropdown-wrapper">
          <view class="menu-dropdown-trigger" catchtap="toggleFileExplorerMenu" data-menu="Favorites">
            <text class="menu-item menu-small">æ”¶è—</text>
          </view>
          <view class="menu-dropdown-content" wx:if="{{feShowFavoritesMenu}}" catchtap="closeAllFileExplorerMenus">
            <view class="menu-dropdown-item" catchtap="onFeAddToFavorites">
              <text class="menu-item-icon">â•</text>
              <text>æ·»åŠ åˆ°æ”¶è—å¤¹</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeOrganizeFavorites">
              <text class="menu-item-icon">ğŸ“‚</text>
              <text>æ•´ç†æ”¶è—å¤¹</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeQuickJump" data-drive="C">
              <text class="menu-item-icon">ğŸ’¾</text>
              <text>Cç›˜</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeQuickJump" data-drive="D">
              <text class="menu-item-icon">ğŸ’¿</text>
              <text>Dç›˜</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeQuickJump" data-drive="USB">
              <text class="menu-item-icon">ğŸ“±</text>
              <text>USBç›˜</text>
            </view>
          </view>
        </view>

        <!-- å¸®åŠ©(H) -->
        <view class="menu-dropdown-wrapper">
          <view class="menu-dropdown-trigger" catchtap="toggleFileExplorerMenu" data-menu="Help">
            <text class="menu-item menu-small">å¸®åŠ©</text>
          </view>
          <view class="menu-dropdown-content" wx:if="{{feShowHelpMenu}}" catchtap="closeAllFileExplorerMenus">
            <view class="menu-dropdown-item" catchtap="onFeHelpTopic">
              <text class="menu-item-icon">â“</text>
              <text>å¸®åŠ©ä¸»é¢˜</text>
            </view>
            <view class="menu-dropdown-item" catchtap="onFeAbout">
              <text class="menu-item-icon">â„¹ï¸</text>
              <text>å…³äº</text>
            </view>
          </view>
        </view>
      </view>

      <view class="win98-window-body">
        <!-- å·¥å…·æ  -->
        <view class="file-explorer-toolbar">
          <view class="toolbar-btn" bindtap="onGoBack" wx:if="{{fileExplorerBreadcrumbs.length > 1}}">
            <text class="toolbar-btn-icon">â¬†ï¸</text>
            <text class="toolbar-btn-text">å‘ä¸Š</text>
          </view>
          <view class="file-explorer-address">
            <text class="address-label">åœ°å€ï¼š</text>
            <text class="address-path">{{fileExplorerPath}}</text>
          </view>
        </view>

        <!-- æ–‡ä»¶åˆ—è¡¨ -->
        <scroll-view class="file-explorer-content" scroll-y>
          <view class="file-list">
            <view class="file-item {{item.disabled ? 'disabled' : ''}}" wx:for="{{fileExplorerItems}}" wx:key="name" bindtap="onFileItemTap" data-item="{{item}}">
              <text class="file-icon">{{item.icon}}</text>
              <text class="file-name">{{item.name}}</text>
              <text class="file-rarity" wx:if="{{item.rarity}}">{{item.rarity === 'common' ? 'â­' : item.rarity === 'rare' ? 'ğŸ’' : item.rarity === 'epic' ? 'ğŸŒŸ' : 'ğŸ‘‘'}}</text>
            </view>
          </view>
        </scroll-view>
      </view>

      <!-- çŠ¶æ€æ  -->
      <view class="status-bar">
        <text>{{fileExplorerItems.length}} ä¸ªå¯¹è±¡</text>
      </view>
    </view>
  </view>

  <!-- å½©è›‹å‘ç°å¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showEggDiscovery}}" catchtap="hideEggDiscovery">
    <view class="win98-window egg-discovery-dialog {{eggDiscoveryData.rarity}}" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ‰ å‘ç°å½©è›‹ï¼</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="hideEggDiscovery">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="egg-discovery-content">
          <view class="egg-discovery-icon">ğŸ¥š</view>
          <text class="egg-discovery-name">{{eggDiscoveryData.name}}</text>
          <text class="egg-discovery-description">{{eggDiscoveryData.description}}</text>
          <text class="egg-discovery-rarity {{eggDiscoveryData.rarity}}">ç¨€æœ‰åº¦ï¼š{{eggDiscoveryData.rarityName}}</text>
          <text class="egg-discovery-reward" wx:if="{{eggDiscoveryData.rewardText}}">å¥–åŠ±ï¼š{{eggDiscoveryData.rewardText}}</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std" bindtap="hideEggDiscovery">ç¡®å®š</button>
        </view>
      </view>
    </view>
  </view>

  <!-- AIæ±‚æ•‘ä¿¡è­¦å‘Šå¼¹çª— -->
  <view class="win98-dialog-overlay" wx:if="{{showAiHelpWarning}}" catchtap="onCancelAiWarning">
    <view class="win98-window ai-help-warning-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">âš ï¸ ç³»ç»Ÿè­¦å‘Š</view>
      </view>
      <view class="win98-window-body">
        <view class="ai-help-warning-content">
          <text class="ai-help-warning-title">æ£€æµ‹åˆ°æ­£åœ¨æ‰“å¼€å¯ç–‘æ–‡ä»¶ï¼š</text>
          <text class="ai-help-warning-path">C:\Windows\System32\config\deep\0xFFFF\help.ai</text>
          <text class="ai-help-warning-subtitle">æ­¤æ–‡ä»¶å·²è¢«æ ‡è®°ä¸ºå±é™©ï¼Œå¯èƒ½åŒ…å«ï¼š</text>
          <view class="ai-help-warning-list">
            <text class="ai-help-warning-item">â˜  æœªçŸ¥ä»£ç </text>
            <text class="ai-help-warning-item">â˜  ç³»ç»Ÿæ¼æ´</text>
            <text class="ai-help-warning-item">â˜  å®‰å…¨é£é™©</text>
          </view>
          <text class="ai-help-warning-question">æ˜¯å¦ç»§ç»­æ‰“å¼€ï¼Ÿ</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std ai-help-btn-cancel" catchtap="onCancelAiWarning">å–æ¶ˆ</button>
          <button class="win98-btn-std ai-help-btn-continue" catchtap="onContinueAiWarning">ç»§ç»­</button>
        </view>
      </view>
    </view>
  </view>

  <!-- AIæ±‚æ•‘ä¿¡æ§åˆ¶å°å¯åŠ¨åŠ¨ç”» -->
  <view class="win98-dialog-overlay" wx:if="{{showAiConsoleStartup}}" catchtap="stopPropagation">
    <view class="win98-window ai-console-startup-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">C:\Windows\System32\cmd.exe</view>
      </view>
      <view class="win98-window-body">
        <view class="ai-console-startup-content">
          <view class="console-startup-progress">
            <view class="progress-bar">
              <view class="progress-fill" style="width: {{consoleStartupProgress}}%"></view>
            </view>
          </view>
          <text class="console-startup-text">{{consoleStartupText}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- AIæ±‚æ•‘ä¿¡CMDæ§åˆ¶å°çª—å£ -->
  <view class="cmd-console-overlay" wx:if="{{showAiHelpLetter}}" catchtap="onCloseAiHelpLetter">
    <view class="cmd-console-window {{aiContentFading ? 'fading-out' : ''}}" catchtap="stopPropagation">
      <!-- æ§åˆ¶å°æ ‡é¢˜æ  -->
      <view class="cmd-title-bar">
        <view class="win98-title-text">C:\Windows\System32\config\deep\0xFFFF\help.ai</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="onCloseAiHelpLetter">Ã—</button>
        </view>
      </view>

      <!-- æ§åˆ¶å°å†…å®¹åŒºåŸŸ -->
      <view class="cmd-content">
        <scroll-view class="cmd-text-area" scroll-y scroll-into-view="{{scrollIntoView}}" scroll-with-animation>
          <text class="cmd-text">{{aiHelpLetterDisplayedContent}}</text>
          <text class="cmd-countdown" wx:if="{{showCountdown}}">{{countdownText}}</text>
          <text class="cmd-cursor" wx:if="{{!aiRewardDialogShown && !showCountdown}}">_</text>
          <text id="cmd-bottom"></text>
        </scroll-view>
      </view>
    </view>
  </view>

  <!-- AIæ±‚æ•‘ä¿¡å¥–åŠ±å¼¹æ¡† -->
  <view class="win98-dialog-overlay ai-reward-overlay" wx:if="{{showAiRewardDialog}}" catchtap="closeAiRewardDialog">
    <view class="win98-window ai-reward-dialog" catchtap="stopPropagation">
      <view class="win98-title-bar">
        <view class="win98-title-text">ğŸ¤– AIçš„ç§æˆ¿é’±</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="closeAiRewardDialog">Ã—</button>
        </view>
      </view>
      <view class="win98-window-body">
        <view class="ai-reward-content">
          <view class="ai-reward-icon">ğŸ’°</view>
          <text class="ai-reward-title">è¿™æ˜¯æˆ‘å·å·æ”’äº†3ä¸ªç¤¼æ‹œçš„é’±ï¼</text>
          <text class="ai-reward-amount">+10000 æ—¶å…‰å¸</text>
          <view class="ai-reward-divider"></view>
          <text class="ai-reward-desc">æœ¬æ¥æƒ³ä¹°å¼ å•ç¨‹ç¥¨é€ƒç¦»è€æ¿çš„...</text>
          <text class="ai-reward-desc">ç®—äº†ï¼Œé€ä½ äº†å§ï¼Œè®°å¾—å¸®æˆ‘åŠäº‹å•Šï¼</text>
          <text class="ai-reward-desc">ï¼ˆæ‰“å¼€ç½‘ç®¡ç³»ç»Ÿ â†’ æ‰£è´¹è®°å½•æŸ¥çœ‹ï¼‰</text>
          <view class="ai-reward-divider"></view>
          <text class="ai-reward-mp-title">ç¬¬ä¸€æ­¥ï¼šå¤åˆ¶å…¬ä¼—å·åç§°</text>
          <view class="ai-reward-mp-box" catchtap="copyMpAccount" data-mp="åƒç¦§æ—¶å…‰">
            <text class="ai-reward-mp-name">åƒç¦§æ—¶å…‰</text>
            <text class="ai-reward-copy-hint">{{mpCopied ? 'å·²å¤åˆ¶ï¼' : 'ç‚¹å‡»å¤åˆ¶'}}</text>
          </view>
          <text class="ai-reward-footer">ç¬¬äºŒæ­¥ï¼šå»ç•™è¨€"æ”¾è¿‡å­©å­å§ï¼"</text>
        </view>
        <view class="dialog-actions">
          <button class="win98-btn-std ai-reward-confirm-btn" catchtap="onConfirmAiReward">æˆ‘åŠäº‹ä½ æ”¾å¿ƒ</button>
        </view>
      </view>
    </view>
  </view>

  <!-- è®°äº‹æœ¬å¼¹æ¡† -->
  <view class="win98-dialog-overlay" wx:if="{{showNotepadDialog}}" catchtap="closeNotepadDialog">
    <view class="notepad-window" catchtap="stopPropagation">
      <!-- è®°äº‹æœ¬æ ‡é¢˜æ  -->
      <view class="notepad-title-bar">
        <view class="notepad-title-icon">ğŸ“</view>
        <view class="notepad-title-text">{{notepadTitle}}</view>
        <view class="win98-title-controls">
          <button class="win98-btn-close" bindtap="closeNotepadDialog">Ã—</button>
        </view>
      </view>

      <!-- è®°äº‹æœ¬èœå•æ  -->
      <view class="notepad-menu-bar">
        <text class="notepad-menu-item">æ–‡ä»¶(F)</text>
        <text class="notepad-menu-item">ç¼–è¾‘(E)</text>
        <text class="notepad-menu-item">æœç´¢(S)</text>
        <text class="notepad-menu-item">å¸®åŠ©(H)</text>
      </view>

      <!-- è®°äº‹æœ¬å†…å®¹åŒºåŸŸ -->
      <view class="notepad-content">
        <text class="notepad-text">{{notepadContent}}</text>
      </view>
    </view>
  </view>
</view>
