# 千禧时光机功能说明书

## 目录
1. [产品概述](#产品概述)
2. [功能详解](#功能详解)
3. [使用指南](#使用指南)
4. [技术架构](#技术架构)
5. [更新日志](#更新日志)

## 产品概述

千禧时光机是一款充满怀旧风格的微信小程序，采用Windows 98经典界面设计，提供多种实用的文字处理和转换工具。小程序融合了复古美学与现代AI技术，为用户提供独特的使用体验。

### 产品特色
- 🕹️ **复古界面**: 完美还原Windows 98的经典视觉风格
- 🤖 **AI驱动**: 集成先进的GLM-4模型，提供智能对话和翻译
- 🌍 **多语言支持**: 支持火星文、中文、英文之间的智能转换
- 💾 **云端存储**: 基于微信云开发，数据安全可靠

## 功能详解

### 1. QCIO 社交系统

#### 账号系统
- **5位数字账号**：模拟QQ号的5位数字账号（10000-99999）
- **固定密码**：123456
- **随机分配**：注册时自动分配未使用的账号

#### 个人资料
- **昵称**：可随时修改
- **头像**：从预设表情中选择（👤😊🤖👻等）
- **签名**：个性签名，可自由编辑
- **等级**：基于活动量的等级系统

#### 空间系统
- **访问统计**：历史访问量、今日访问量
- **访客记录**：显示最近10位访客
- **留言板**：好友踩过后自动生成留言
- **心情日志**：发布个人动态，AI扩展生成
- **好友列表**：20个随机分配的AI网友
- **群聊列表**：6个AI群聊

#### 踩一踩系统
- **每日限制**：每个用户每天只能踩同一空间一次
- **自动留言**：踩过后自动生成随机留言
- **访客统计**：实时更新访问数据
- **分享功能**：可分享自己的空间链接

#### 访问页面
- **独立页面**：访问他人空间的专属页面
- **查看留言**：可查看对方空间的留言板
- **踩一脚**：登录用户可以踩空间
- **返回功能**：返回自己的空间或首页

### 2. AI 聊天系统

#### 36种聊天模式

| 模式 | 风格 | 特点 |
|------|------|------|
| qingwu | 轻舞飞扬 | 火星文、非主流用语 |
| sadsoul | 忧郁王子 | 伤感、文艺 |
| netadmin | 网管小哥 | 技术话题 |
| fortune_teller | 算命大师 | 玄学、卜卦 |
| mars | 火星文转换 | 自动转换文字 |
| joker | 段子手 | 搞笑、幽默 |
| nerd | 学霸 | 学习、技术 |
| love_expert | 情感专家 | 恋爱建议 |
| down_to_earth | 接地气 | 日常生活 |
| emo | 情绪化 | 情感表达 |
| ... | ... | 共36种模式 |

#### 100个AI网友

分为12个分组，每个网友都有：
- 唯一的ID和名称
- 特定的聊天模式
- 个性化的回复风格
- 在线状态显示

### 3. 群聊系统

#### 6个群聊

| 群名 | 人数 | 聊天模式 | 风格 |
|------|------|----------|------|
| 葬爱网游家族 | 24人 | qingwu | 非主流 |
| 网吧技术联盟 | 20人 | netadmin | 技术 |
| 神秘学园 | 20人 | fortune_teller | 玄学 |
| 情感八卦圈 | 21人 | love_expert | 八卦 |
| 学霸文艺社 | 19人 | nerd | 学习 |
| 普通生活馆 | 18人 | down_to_earth | 日常 |

#### 群聊发言机制
- 每次发消息随机选择1-6个群成员回复
- 概率分布：1人40%、2人30%、3人15%、4人8%、5人5%、6人2%
- AI回复之间有0.8-1.8秒随机延迟
- 模拟真实群聊氛围

### 4. 钱包系统

#### 货币类型
- **金币**：签到、发布日志获得
- **Q点**：充值功能（预留）

#### 获取方式
- 每日签到：+10金币
- 发布心情日志：前3次每天每次+5金币
- 成就奖励

### 5. 成就系统

记录用户的各项成就，如：
- 首次发布日志
- 累计发布N条日志
- 被访问N次
- 连续签到N天

### 6. 心情日志

#### 功能
- 选择心情图标（😊😢😡😴等）
- 输入简短的心情文字
- AI自动扩展生成完整日志
- 自动保存到云端
- 可删除历史日志

#### AI扩展
基于GLM-4模型，根据用户输入：
- 扩展成完整的日志内容
- 添加2006年代的非主流风格
- 保持用户的原意

### 7. 火星文翻译器 🪐

#### 多向翻译
- 正常中文 → 火星文
- 火星文 → 正常中文
- 中文 → 英文
- 英文 → 中文
- 火星文 ↔ 英文

#### AI对话助手
- 基于GLM-4智能模型
- 支持上下文理解
- 火星文风格对话

## 使用指南

### 新手入门

1. **注册账号**
   - 点击"我的电脑"图标
   - 进入QCIO空间
   - 点击"立即注册"
   - 系统自动分配5位数字账号
   - 输入昵称，选择头像
   - 完成注册！

2. **开始聊天**
   - 在好友列表中选择好友
   - 点击进入聊天
   - 发送消息开始互动

3. **踩一踩**
   - 点击"邀请好友来踩"分享空间
   - 或访问好友的空间
   - 点击"踩一脚"按钮
   - 自动生成留言

4. **发布日志**
   - 切换到"日志"标签
   - 选择心情图标
   - 输入简短心情
   - 点击"发布"
   - AI自动扩展生成

### 高级技巧

1. **个性签名**
   - 使用火星文增加非主流感
   - 引用经典语录
   - 定期更新保持新鲜感

2. **增加访客**
   - 经常更新心情日志
   - 多踩好友空间
   - 分享空间链接

3. **聊天技巧**
   - 不同好友用不同风格聊天
   - 尝试各种话题
   - 加入群聊增加互动

## 技术架构

### 前端架构
- **框架**: 微信小程序原生框架
- **组件化**: 模块化UI组件
- **状态管理**: 页面级状态管理
- **样式系统**: 复古CSS主题（Win98风格）

### 后端架构
- **云服务**: 微信云开发
- **AI服务**: 智谱GLM-4 API
- **数据存储**: 云数据库
- **函数计算**: 云函数

### 云函数说明

| 云函数 | 功能 |
|--------|------|
| user | 用户登录、注册管理 |
| qcio | QCIO社交功能核心 |
| chat | AI聊天核心 |
| mood_logic | 心情农场游戏逻辑 |

### 数据库表

| 表名 | 用途 |
|------|------|
| qcio_users | QCIO账号信息 |
| qcio_wallet | 用户钱包 |
| qcio_daily_tasks | 每日任务记录 |
| qcio_achievements | 成就数据 |
| qcio_mood_logs | 心情日志 |
| qcio_ai_contacts | AI好友列表 |
| qcio_groups | 群聊列表 |
| qcio_chat_history | 单人聊天历史 |
| qcio_group_chat_history | 群聊历史 |
| qcio_guestbook | 空间留言板 |
| mood_garden | 心情农场状态 |

### 安全保障
- API密钥加密存储
- 用户数据隔离
- 请求频率限制
- 内容安全审核（微信msgSecCheck）

## 更新日志

### v2.1.0 (2025-12-25)
#### 新增功能
- ✨ 独立访问页面 (`pages/qcio/visit`)
- ✨ 踩一踩每日限制功能
- ✨ 自动留言功能
- ✨ 访客统计与最近访客
- ✨ 分享邀请功能

#### Bug修复
- 🐛 修复关闭按钮样式问题
- 🐛 修复页面返回逻辑
- 🐛 修复留言板归属问题

### v2.0.0 (2025-01-01)
#### 新增功能
- ✨ QCIO社交系统完整上线
- ✨ 36种AI聊天模式
- ✨ 100个AI网友，12个分组
- ✨ 6个群聊，随机发言机制
- ✨ 内容安全检测
- ✨ 频率限制
- ✨ 心情农场游戏

### v1.5.0 (2024-12-15)
#### 新增功能
- ✨ 千禧浏览器功能
- ✨ 火星文翻译器
- ✨ 非主流头像生成器
- ✨ 星域探险游戏

### v1.0.0 (2024-12-01)
#### 初始版本
- ✨ 基础火星文翻译功能
- ✨ Windows 98风格界面
- ✨ 云函数后端支持

## 常见问题

### Q: 如何切换翻译类型？
A: 在翻译器顶部点击下拉菜单，选择需要的翻译类型。

### Q: AI对话有次数限制吗？
A: 为保证服务质量，目前对每日对话次数有限制，VIP用户可享受更多额度。

### Q: 如何保存翻译历史？
A: 系统自动保存最近50条对话记录，可在历史记录中查看。

### Q: 支持哪些语言的翻译？
A: 目前支持中文、英文、火星文，后续会添加更多语言支持。

### Q: 踩一踩没有生成留言？
A: 确保已登录QCIO账号，今天没有踩过这个空间，并且云函数已重新上传。

### Q: 为什么老用户看不到好友？
A: 老用户可能缺少`myContacts`字段。系统会在登录时自动检测并补充分配。

## 联系我们

- **反馈建议**: 请在微信内通过"意见反馈"提交
- **Bug报告**: 截图并描述问题，发送至客服
- **商务合作**: 发送邮件至 business@example.com

---

> 让我们一起重温那个简单而又美好的互联网时代 🕹️
