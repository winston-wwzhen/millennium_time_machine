# 微信小程序功能说明书：千禧时光机 (v1.0 MVP)

**项目名称**：千禧时光机 (英文代号: millennium_time_machine)  
**项目类型**：工具 / 娱乐 / 社交生成器  
**目标用户**：85后至00后，对千禧年互联网文化（Y2K、非主流、像素风）有共鸣的群体。  
**核心价值**：低成本的情绪表达工具，通过怀旧视觉包装，帮助用户在社交媒体“玩梗”和“出圈”。

---

## 1. 总体设计规范 (Visual Identity)

本项目核心在于**“沉浸式体验”**，UI必须严格遵守以下复古规范。

### 1.1 视觉风格
* **设计语言**：Windows 95/98/2000 经典风格 (Classic Grey)。
* **主色调**：
    * 桌面背景：`#008080` (经典青色)
    * 窗口背景：`#C0C0C0` (标准银灰)
    * 高亮/选中：`#000080` (深蓝)
    * 字体颜色：`#000000` (黑)
* **阴影逻辑**：使用 CSS `border` 模拟 3D 凸起与凹陷。
    * *凸起（按钮/窗口）*：左上亮白(`white`)，右下深黑(`black`)。
    * *凹陷（输入框/状态栏）*：左上深黑，右下亮白。
* **字体**：首选系统宋体/衬线体，或引入点阵字体（Pixel Font）以增强像素感。

### 1.2 交互音效 (Sound FX)
* **点击**：清脆的鼠标微动开关声 (`click.mp3`)。
* **报错**：经典的 Windows "咚" 声 (`error.wav`)。
* **启动**：硬盘读取声或拨号上网杂音 (开屏加载时)。

---

## 2. 功能模块详解

### 2.1 首页：复古桌面 (Home Desktop)
**隐喻**：用户的手机屏幕就是一台 2005 年的显示器。

* **布局结构**：
    * **顶部**：隐藏微信原生导航栏，使用自定义 View 模拟“全屏显示器”。
    * **中部 (Desktop)**：放置功能入口图标（App Icons）。
        * 图标 A：`火星文转换.exe` (文字工具)
        * 图标 B：`电子包浆机.exe` (图片滤镜 - 二期功能)
        * 图标 C：`关于我们.txt`
        * 图标 D：`回收站` (清空缓存/彩蛋)
    * **底部 (Taskbar)**：
        * [开始] 按钮：点击弹出菜单（分享、赞赏、设置）。
        * [任务栏]：显示当前运行的“程序”名称。
        * [托盘区]：显示当前真实时间（HH:mm）。

* **交互逻辑**：
    * 点击图标：图标变蓝（选中态），0.1s 后跳转对应页面。
    * 双击逻辑（可选）：为了适应手机操作，改为**单击即触发**，但保留按压态视觉反馈。

### 2.2 核心功能 A：火星文转换器 (Mars Converter)
**隐喻**：Windows 记事本 (Notepad) 或 简易聊天窗口。

* **页面元素**：
    * **输入框**：大面积文本域，支持多行输入。Placeholder：“请输入地球语言...”。
    * **控制区**：
        * [一键非主流] 按钮：执行转换算法。
        * [复制] 按钮：将结果复制到剪贴板。
        * [生成图片] 按钮（核心裂变点）：将文字渲染为图片。
    * **输出框**：显示转换后的结果，字体颜色设为深蓝或紫色。

* **功能逻辑**：
    1.  **字典匹配**：前端维护一个 `JSON` 字典库 (约 500-1000 常用字)。
    2.  **随机噪音**：在句首、句尾随机插入颜文字符号 (如 `o(╥﹏╥)o`, `...`, `!!`)。
    3.  **繁体化**：未匹配火星文的字，强制转换为繁体中文。

* **图片生成模式 (Canvas)**：
    * 提供 3 种背景模板：
        * *模板 1*：XP 错误弹窗风格（文案显示在弹窗内容里）。
        * *模板 2*：诺基亚 3310 短信绿屏风格。
        * *模板 3*：QQ 空间说说截图风格。
    * **输出**：生成 `JPG` 图片，自动保存到相册。

### 2.3 核心功能 B：复古大头贴 (Retro Avatar) - *MVP 阶段优先度 P1*
**隐喻**：大头贴机器 / 30万像素摄像头。

* **页面元素**：
    * **取景框**：显示用户上传的图片。
    * **素材库 (ScrollView)**：横向滑动选择边框。
        * *素材类型*：闪闪发光的 GIF 边框（初期做静态）、杀马特文字贴纸、低像素相框。
    * **滤镜开关**：
        * [电子包浆]：增加噪点、降低饱和度、锐化边缘。
        * [过曝]：模拟闪光灯直打效果。

* **技术实现**：
    * 使用 `Canvas 2D` 接口。
    * 图层顺序：背景图(用户图) -> 滤镜层(半透明遮罩) -> 边框层(PNG素材) -> 水印层。

### 2.4 彩蛋与关于 (About)
* **形式**：一个纯文本的弹窗，背景是黑底绿字 (DOS 风格) 或 蓝屏死机图 (BSOD)。
* **内容**：版本号、作者寄语、以及一个伪装的“系统崩溃倒计时”。

---

## 3. 技术架构 (Technical Stack)

为了确保个人开发的可维护性和低成本，采用 **无后端 (Serverless)** 架构。

* **前端框架**：微信小程序原生 (WXML / WXSS / JS)。
* **状态管理**：主要依赖 `Page Data` 和 `App.globalData`，无需复杂 Store。
* **数据存储**：
    * **本地**：字典库、图片素材直接打包在小程序包内（注意控制在 2MB 以内，超大图使用 CDN 链接）。
    * **缓存**：`wx.setStorage` 存储用户的偏好设置（如是否开启音效）。
* **图像处理**：`wx.createCanvasContext` (旧版) 或 `Canvas 2D` (推荐新版，性能更好)。
* **API 需求**：
    * `wx.vibrateShort` (震动反馈)
    * `wx.setClipboardData` (剪贴板)
    * `wx.saveImageToPhotosAlbum` (保存图片)

---

## 4. 运营与变现规划 (Growth & Monetization)

### 4.1 埋点设计 (裂变钩子)
* **水印策略**：免费用户生成的所有图片，右下角带有复古像素字体水印 `© 2005 千禧时光机`。
* **隐藏彩蛋**：在“开始菜单”里藏一个“联系作者”，点击复制微信号或弹窗二维码。

### 4.2 广告变现 (MVP 后期接入)
* **激励视频**：解锁“动态闪图”边框或“去除水印”功能，需观看 15-30秒 广告。
* **插屏广告**：在点击“保存图片”成功后，模拟一个系统弹窗广告（需注意频率，体验优先）。

---

## 5. 项目文件结构建议

```text
miniprogram/
├── images/                 // 存放图标、背景图
│   ├── icons/
│   ├── borders/            // 大头贴边框素材
│   └── bg_desktop.jpg
├── utils/
│   ├── mars_dict.js        // 火星文对照字典
│   └── styles.wxss         // 公共复古样式库 (按钮、窗口边框)
├── pages/
│   ├── index/              // 桌面首页
│   ├── mars/               // 火星文生成器
│   ├── avatar/             // 大头贴生成器 (P2阶段)
│   └── about/              // 关于页面
├── app.json                // 全局配置 (去除导航栏)
└── app.wxss                // 全局字体定义