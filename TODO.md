# 功能迭代注意事项

本文档记录项目后续开发时需要注意的迭代事项和待办事项。

---

## 彩蛋系统集成

### ⚠️ 重要：添加新彩蛋时必须更新彩蛋大全

当实现以下菜单/功能时，如果添加了新的彩蛋，**必须同步更新以下文件**：

1. **彩蛋定义文件**：`miniprogram/utils/egg-system.js`
   - 在 `EGG_IDS` 中添加新的彩蛋ID
   - 在 `EGG_CONFIG` 中添加彩蛋配置（名称、描述、稀有度、奖励）

2. **彩蛋大全显示**：`miniprogram/components/text-file-viewer/index.wxml`
   - 在对应稀有度分组中添加彩蛋名称
   - 确保显示格式一致：`图标 彩蛋名称`

### 当前彩蛋分类 (23个)

- **【普通彩蛋】(13个)**：
  - 🦁 舞动的小狮子 | 💬 它会说话 | 📂 底部秘密 | 🎨 换了个心情
  - 💻 电脑专家 | 🌐 网瘾少年 | 📸 非主流达人 | 🏠 空间常客
  - 📋 开始菜单爱好者 | 🪐 火星文大师 | 💰 网费兑换者 | 🔢 计算器高手
  - 🧭 浏览器领航员

- **【稀有彩蛋】(8个)**：
  - 💻 那个年代的噩梦 | 👁️ 消失的角落 | ⏰ 特殊时刻 | 💬 聊天狂魔
  - 🗑️ 回收站清理者 | 👥 群聊狂欢 | 🌟 星际探险家 | 🕰️ 时光旅行者

- **【史诗彩蛋】(1个)**：
  - 🌙 深夜党专属

- **【传说彩蛋】(1个)**：
  - 🎮 传说中的秘籍 (KONAMI_CODE)

详细触发方式见 [EGG_SYSTEM.md](./EGG_SYSTEM.md)

---

## 待实现的功能

### 我的文档
- [ ] 非主流签名.doc - 可添加查看签名的彩蛋
- [ ] 我的图片 - 可添加浏览图片的彩蛋
- [ ] 我的音乐 - 可添加播放音乐的彩蛋
- [ ] 我的视频 - 可添加观看视频的彩蛋

### 我的电脑
- [ ] D盘功能扩展
- [ ] USB设备功能
- [ ] 系统信息查看

### 浏览器
- [ ] 收藏夹功能
- [ ] 历史记录功能

### 开始菜单程序
- [ ] 可考虑添加启动程序的彩蛋

---

## 组件化进度

| 组件 | 状态 | 说明 |
|------|------|------|
| 我的文档 | ✅ 已组件化 | `components/my-documents/` |
| 我的电脑 | ✅ 已组件化 | `components/my-computer/` |
| 网管系统 | ✅ 已组件化 | `components/network-neighborhood/` |
| 回收站 | ✅ 已组件化 | `components/recycle-bin/` |
| 浏览器 | ⚠️ 仍为页面 | `pages/browser/` (暂无组件化计划) |

---

## 开发规范

### z-index 层级管理

| 元素 | z-index | 说明 |
|------|---------|------|
| 网管插件 | 80 | 固定，始终在底层 |
| 桌面组件 | 2000+ | 动态管理，最后打开的在最上层 |
| 子组件 | 2100+ | 基于父组件 +10 |

### 命名规范

| 类型 | 规范 | 示例 |
|------|------|------|
| 组件文件 | kebab-case | `text-file-viewer` |
| 事件处理 | `on` 开头 | `onClose`, `onTap` |

### 彩蛋触发方式参考

| 类型 | 说明 | 示例 |
|------|------|------|
| 点击类 | 点击 N 次 | 点击小狮子10次 |
| 长按类 | 长按触发 | 长按小狮子 |
| 时间类 | 特定时间 | 凌晨0点 |
| 序列类 | 按顺序操作 | KONAMI_CODE |
| 累计类 | 行为累计 | 聊天100条 |

---

## 最近完成的更新 (v3.7)

- [x] 修复 RECYCLE_BIN_EMPTYER 彩蛋缺失定义
- [x] 完善回收站彩蛋触发逻辑
- [x] 更新彩蛋文档为23个完整列表
- [x] 更新 README.md 彩蛋数量
- [x] 回收站组件化完成

---

最后更新: 2025-12-29 (v3.7)
